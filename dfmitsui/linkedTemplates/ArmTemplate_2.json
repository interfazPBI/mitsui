{
	"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"factoryName": {
			"type": "string",
			"metadata": "Nombre de instancia de Data Factory",
			"defaultValue": "dfmitsui"
		}
	},
	"variables": {
		"factoryId": "[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"
	},
	"resources": [
		{
			"name": "[concat(parameters('factoryName'), '/DWH_PROCESO')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "BD_MITSUI",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [],
				"typeProperties": {
					"schema": "STAGING",
					"table": "DW_PROCESO"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/EKET')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Parquet",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": "DEV_IG_EKET.parquet",
						"folderPath": "desarrollo",
						"container": "dev"
					},
					"compressionCodec": "snappy"
				},
				"schema": [
					{
						"name": "MANDT",
						"type": "UTF8"
					},
					{
						"name": "SPRAS",
						"type": "UTF8"
					},
					{
						"name": "MATKL",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ60",
						"type": "UTF8"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/EKKO')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Parquet",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": "DEV_IG_EKKO.parquet",
						"folderPath": "desarrollo",
						"container": "dev"
					},
					"compressionCodec": "snappy"
				},
				"schema": [
					{
						"name": "MANDT",
						"type": "UTF8"
					},
					{
						"name": "SPRAS",
						"type": "UTF8"
					},
					{
						"name": "MATKL",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ60",
						"type": "UTF8"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/ENCARGADOS')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Excel",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": "BBDD Encargado por tienda.xlsx",
						"folderPath": "Archivos Planos",
						"container": "dev"
					},
					"sheetIndex": 0,
					"firstRowAsHeader": true
				},
				"schema": [
					{
						"name": "Vendedor",
						"type": "String"
					},
					{
						"name": "Codigo",
						"type": "String"
					},
					{
						"name": "Sede",
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/GETMETADATA_PRD')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Parquet",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"folderPath": "productivo/PRD/MAESTROS",
						"container": "dev"
					},
					"compressionCodec": "snappy"
				},
				"schema": [
					{
						"name": "MANDT",
						"type": "UTF8"
					},
					{
						"name": "SPRAS",
						"type": "UTF8"
					},
					{
						"name": "MATKL",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ60",
						"type": "UTF8"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/GETMETADATA_PRD_TRANSACCIONAL')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Parquet",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"folderPath": "productivo/PRD/TRASACCIONAL",
						"container": "dev"
					},
					"compressionCodec": "snappy"
				},
				"schema": [
					{
						"name": "MANDT",
						"type": "UTF8"
					},
					{
						"name": "SPRAS",
						"type": "UTF8"
					},
					{
						"name": "MATKL",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ60",
						"type": "UTF8"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/IBIN')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Parquet",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": "DEV_IG_IBIN.parquet",
						"folderPath": "desarrollo",
						"container": "dev"
					},
					"compressionCodec": "snappy"
				},
				"schema": [
					{
						"name": "MANDT",
						"type": "UTF8"
					},
					{
						"name": "SPRAS",
						"type": "UTF8"
					},
					{
						"name": "MATKL",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ60",
						"type": "UTF8"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/IBINVALUES')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Parquet",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": "DEV_IG_IBINVALUES.parquet",
						"folderPath": "desarrollo",
						"container": "dev"
					},
					"compressionCodec": "snappy"
				},
				"schema": [
					{
						"name": "MANDT",
						"type": "UTF8"
					},
					{
						"name": "SPRAS",
						"type": "UTF8"
					},
					{
						"name": "MATKL",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ60",
						"type": "UTF8"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/IBSYMBOL')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Parquet",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": "DEV_IG_IBSYMBOL.parquet",
						"folderPath": "desarrollo",
						"container": "dev"
					},
					"compressionCodec": "snappy"
				},
				"schema": [
					{
						"name": "MANDT",
						"type": "UTF8"
					},
					{
						"name": "SPRAS",
						"type": "UTF8"
					},
					{
						"name": "MATKL",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ60",
						"type": "UTF8"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/KNA1')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Parquet",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": "DEV_IG_KNA1.parquet",
						"folderPath": "desarrollo",
						"container": "dev"
					},
					"compressionCodec": "snappy"
				},
				"schema": [
					{
						"name": "MANDT",
						"type": "UTF8"
					},
					{
						"name": "SPRAS",
						"type": "UTF8"
					},
					{
						"name": "MATKL",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ60",
						"type": "UTF8"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/KONV')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Parquet",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": "DEV_IG_KONV.parquet",
						"folderPath": "desarrollo",
						"container": "dev"
					},
					"compressionCodec": "snappy"
				},
				"schema": [
					{
						"name": "MANDT",
						"type": "UTF8"
					},
					{
						"name": "SPRAS",
						"type": "UTF8"
					},
					{
						"name": "MATKL",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ60",
						"type": "UTF8"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/MAESTRAS')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Excel",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": "MAESTRAS.xlsx",
						"folderPath": "archivos control",
						"container": "dev"
					},
					"sheetIndex": 0,
					"firstRowAsHeader": true
				},
				"schema": [
					{
						"name": "Vendedor",
						"type": "String"
					},
					{
						"name": "Codigo",
						"type": "String"
					},
					{
						"name": "Sede",
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/MAKT')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Parquet",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": "DEV_IG_MAKT.parquet",
						"folderPath": "desarrollo",
						"container": "dev"
					},
					"compressionCodec": "snappy"
				},
				"schema": [
					{
						"name": "MANDT",
						"type": "UTF8"
					},
					{
						"name": "SPRAS",
						"type": "UTF8"
					},
					{
						"name": "MATKL",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ60",
						"type": "UTF8"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/MARA')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Parquet",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": "DEV_IG_MARA.parquet",
						"folderPath": "desarrollo",
						"container": "dev"
					},
					"compressionCodec": "snappy"
				},
				"schema": [
					{
						"name": "MANDT",
						"type": "UTF8"
					},
					{
						"name": "SPRAS",
						"type": "UTF8"
					},
					{
						"name": "MATKL",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ60",
						"type": "UTF8"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/MASIVA')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Excel",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": "MASIVA_MITSUI.xlsx",
						"container": "dev"
					},
					"sheetIndex": 0,
					"range": "A1:B4",
					"firstRowAsHeader": true
				},
				"schema": [
					{
						"name": "Vendedor",
						"type": "String"
					},
					{
						"name": "Codigo",
						"type": "String"
					},
					{
						"name": "Sede",
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/MSEG')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Parquet",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": "DEV_IG_MSEG.parquet",
						"folderPath": "desarrollo",
						"container": "dev"
					},
					"compressionCodec": "snappy"
				},
				"schema": [
					{
						"name": "MANDT",
						"type": "UTF8"
					},
					{
						"name": "SPRAS",
						"type": "UTF8"
					},
					{
						"name": "MATKL",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ60",
						"type": "UTF8"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/ORIGEN_BLOBSTORAGE')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"FILENAME": {
						"type": "string"
					}
				},
				"annotations": [],
				"type": "Parquet",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": {
							"value": "@dataset().FILENAME",
							"type": "Expression"
						},
						"folderPath": "productivo/PRD/MAESTROS",
						"container": "dev"
					},
					"compressionCodec": "snappy"
				},
				"schema": [
					{
						"name": "MANDT",
						"type": "UTF8"
					},
					{
						"name": "SPRAS",
						"type": "UTF8"
					},
					{
						"name": "MATKL",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ60",
						"type": "UTF8"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/ORIGEN_BLOBSTORAGE_TRANSACCIONAL')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"FILENAME": {
						"type": "string"
					}
				},
				"annotations": [],
				"type": "Parquet",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": {
							"value": "@dataset().FILENAME",
							"type": "Expression"
						},
						"folderPath": "productivo/PRD/TRASACCIONAL",
						"container": "dev"
					},
					"compressionCodec": "snappy"
				},
				"schema": [
					{
						"name": "MANDT",
						"type": "UTF8"
					},
					{
						"name": "SPRAS",
						"type": "UTF8"
					},
					{
						"name": "MATKL",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ60",
						"type": "UTF8"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PA0001')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Parquet",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": "DEV_IG_PA0001.parquet",
						"folderPath": "desarrollo",
						"container": "dev"
					},
					"compressionCodec": "snappy"
				},
				"schema": [
					{
						"name": "MANDT",
						"type": "UTF8"
					},
					{
						"name": "SPRAS",
						"type": "UTF8"
					},
					{
						"name": "MATKL",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ",
						"type": "UTF8"
					},
					{
						"name": "WGBEZ60",
						"type": "UTF8"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PL_MASA_ORIGINAL_EXCEL')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"File": {
						"type": "string"
					}
				},
				"annotations": [],
				"type": "Excel",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": {
							"value": "@dataset().File",
							"type": "Expression"
						},
						"folderPath": "Archivos Planos/PL_MASA_ORIGINAL",
						"container": "dev"
					},
					"sheetIndex": 0,
					"firstRowAsHeader": true
				},
				"schema": [
					{
						"name": "Vendedor",
						"type": "String"
					},
					{
						"name": "Codigo",
						"type": "String"
					},
					{
						"name": "Sede",
						"type": "String"
					}
				]
			},
			"dependsOn": []
		}
	]
}